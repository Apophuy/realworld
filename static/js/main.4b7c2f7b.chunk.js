(this.webpackJsonprealworld=this.webpackJsonprealworld||[]).push([[0],{40:function(e,t,a){e.exports=a(54)},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=a(7),s=a(4),o=a(35),u=a(36),m=a(14),d=a(2),p={isAuthenticated:!1,token:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Object(d.a)({},e,{isAuthenticated:!0,token:t.payload});case"LOG_OUT":return Object(d.a)({},e,{isAuthenticated:!1});default:return e}},E={name:"",password:"",email:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_INPUT":return Object(d.a)({},e,{},t.payload);default:return e}},h=a(15),v={articles:[],articlesCount:0,articlesLimit:10,articlesOffset:0,editingArticle:{title:"",description:"",body:"",tagList:[]},editing:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARTICLES":return Object(d.a)({},e,{articles:t.payload.articles,articlesCount:t.payload.articlesCount});case"CHANGE_OFFSET":return Object(d.a)({},e,{articlesOffset:t.payload});case"CHANGE_FAVORITE":return Object(d.a)({},e,{articles:t.payload});case"CHANGE_ARTICLE_FIELD":return Object(d.a)({},e,{editingArticle:Object(d.a)({},e.editingArticle,Object(h.a)({},t.payload.field,t.payload.value))});case"PUBLISH_ARTICLE":return Object(d.a)({},e,{articles:t.payload,editingArticle:Object(d.a)({},v.editingArticle)});case"DELETE_ARTICLE":return Object(d.a)({},e,{articles:t.payload});case"ON_EDITING_ARTICLE":return Object(d.a)({},e,{editing:!0});case"OFF_EDITING_ARTICLE":return Object(d.a)({},e,{editing:!1});case"UPDATE_ARTICLE":return Object(d.a)({},e,{articles:t.payload,editingArticle:Object(d.a)({},v.editingArticle)});case"SET_ARTICLE_TO_STATE":return Object(d.a)({},e,{editingArticle:t.payload});case"CLEAR_EDITING_ARTICLE":return Object(d.a)({},e,{editingArticle:v.editingArticle});default:return e}},N={loading:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":return Object(d.a)({},e,{loading:!0});case"HIDE_LOADER":return Object(d.a)({},e,{loading:!1});default:return e}},O={firstPage:1,activePage:1,paginationLength:10},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ACTIVE_PAGE":return Object(d.a)({},e,{activePage:t.payload});case"CHANGE_FIRST_PAGE":return Object(d.a)({},e,{firstPage:t.payload});default:return e}},A=Object(m.combineReducers)({auth:f,form:g,articles:b,loader:y,paginator:_});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(19),j=a(20),C=a(21),T=a(22),k=a(16),L=(a(49),a(27)),x=function(e){var t=e.isActive,a=e.pageNumber,n=e.changePageHandler;return r.a.createElement("li",{className:t?"active":"waves-effect"},r.a.createElement("a",{onClick:function(e){e.preventDefault(),n(a)},href:a},a))};x.defaultProps={isActive:!1,pageNumber:1};var I=x,F=a(6),P=a.n(F),S=a(13),D=function(e){return window.M&&e&&window.M.toast({html:e,classes:"deep-orange darken-3"}),null},R="https://conduit.productionready.io/api",H={auth:"".concat(R,"/users/login"),reg:"".concat(R,"/users"),user:"".concat(R,"/user")},G=function(e){return{type:"LOG_IN",payload:e}},M=function(e){var t={email:e.email,password:e.password,token:e.token},a=JSON.stringify(t);localStorage.setItem("user",a)},U=function(e){return function(){var t=Object(S.a)(P.a.mark((function t(a){var n,r,c,l,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e,t.next=4,fetch(H.auth,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({user:n})});case 4:return r=t.sent,t.next=7,r.status;case 7:if(200!==(c=t.sent)){t.next=17;break}return t.next=11,r.json();case 11:l=t.sent,i=l.user.token,a(G(i)),n.token=i,D("\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),M(n);case 17:422===c&&D("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0442\u043e\u0442, \u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),D(t.t0.message);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e){return t.apply(this,arguments)}}()},J="",V=function(e){var t=e().articles,a=t.articlesLimit,n=t.articlesOffset;J="".concat(R,"/articles?limit=").concat(a,"&offset=").concat(n)},z=function(e){return"".concat(R,"/articles/").concat(e,"/favorite")},W=function(){var e=localStorage.getItem("user");return JSON.parse(e).token},B=function(e){var t=e.state,a=e.articlesCount,n=e.articlesLimit,c=e.changePage,l=e.changeArticlesList,i=e.changePaginatorList,s=t.firstPage,o=t.activePage,u=t.paginationLength,m=Object(L.range)(s,s+u),d=function(e){return function(t){if(t.preventDefault(),"more"===e){if(m[u-1]===Math.ceil(a/n))return;var r=s+u;i(r),c(r),l(r)}else{if(1===s)return;var o=s-u;i(o),c(o),l(o)}}},p=function(e){c(e),l(e)};return r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:1===s?"disabled":"waves-effect"},r.a.createElement("a",{href:"#!",onClick:d("less")},r.a.createElement("i",{className:"material-icons"},"chevron_left"))),m.map((function(e){return r.a.createElement(I,{key:e,pageNumber:e,isActive:e===o,changePageHandler:p})})),r.a.createElement("li",{className:m[u-1]===Math.ceil(a/n)?"disabled":"waves-effect"},r.a.createElement("a",{href:"#!",onClick:d("more")},r.a.createElement("i",{className:"material-icons"},"chevron_right"))))};B.defaultProps={state:{}};var $=Object(s.b)((function(e){return{state:e.paginator,articlesCount:e.articles.articlesCount,articlesLimit:e.articles.articlesLimit}}),(function(e){return{changePage:function(t){return e(function(e){return{type:"CHANGE_ACTIVE_PAGE",payload:e}}(t))},changeArticlesList:function(t){return e(function(e){return function(t,a){var n=a(),r=n.articles,c=n.paginator.paginationLength,l=r.articlesLimit;t({type:"CHANGE_OFFSET",payload:e*l-c})}}(t))},changePaginatorList:function(t){return e({type:"CHANGE_FIRST_PAGE",payload:t})}}}))(B),q=a(56),K=a(57),Q=a(58),X=function(e){var t=e.article,a=t.createdAt,n=Object(q.a)(Date.now(),Object(K.a)(a)),c=Object(Q.a)(n,"dd \u0434\u043d\u0435\u0439 hh \u0447\u0430\u0441\u043e\u0432 mm \u043c\u0438\u043d\u0443\u0442");return r.a.createElement("li",{className:"collection-item avatar margin--bottom"},r.a.createElement("img",{src:t.author.image,alt:t.author.username,className:"circle"}),r.a.createElement("span",{className:"title"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:\xa0",r.a.createElement("b",null,t.title)),r.a.createElement("p",null,"\u0410\u0432\u0442\u043e\u0440:\xa0",r.a.createElement("b",null,t.author.username)),r.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u043d\u0430: ".concat(c," \u043d\u0430\u0437\u0430\u0434")),r.a.createElement("span",null,"\u0422\u0435\u0433\u0438:\xa0",t.tagList.map((function(e){return r.a.createElement("span",{key:e},"".concat(e," "))}))),r.a.createElement("div",{className:"row s4 offset-s4 margin--top"},r.a.createElement("span",{className:"new badge orange left","data-badge-caption":""},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0430\u0439\u043a\u043e\u0432: ".concat(t.favoritesCount))))},Y=Object(s.b)((function(e){return{articles:e.articles.articles}}))((function(e){var t=e.articles;return r.a.createElement("ul",{className:"collection"},t.map((function(e){return r.a.createElement(i.b,{key:e.slug,to:{pathname:"/articles/".concat(e.slug),state:e}},r.a.createElement(X,{article:e}))})))})),Z=function(){return r.a.createElement("div",{className:"preloader-wrapper big active"},r.a.createElement("div",{className:"spinner-layer spinner-red-only"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))))},ee=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getArticlesTitles)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.getArticlesTitles;t.currentPage!==e.currentPage&&(a(),window.scrollTo(0,0))}},{key:"render",value:function(){var e=this.props,t=e.articles,a=e.isLoading,n=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6 offset-s3"},r.a.createElement("div",{className:"center-align"},r.a.createElement(Z,null))));return r.a.createElement(r.a.Fragment,null,a&&n,t.length>0?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6 offset-s3"},r.a.createElement(Y,null),r.a.createElement("div",{className:"center-align"},r.a.createElement($,null)))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4 offset-s4"},r.a.createElement("div",{className:"center-align"},"\u0421\u0442\u0430\u0442\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"))))}}]),a}(n.Component);ee.defaultProps={articles:{},isLoading:!1,currentPage:1};var te=Object(s.b)((function(e){return{articles:e.articles.articles,isLoading:e.loader.loading,currentPage:e.paginator.activePage}}),(function(e){return{getArticlesTitles:function(){return e(function(){var e=Object(S.a)(P.a.mark((function e(t,a){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,V(a),t({type:"SHOW_LOADER"}),e.next=5,fetch(J);case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,t({type:"GET_ARTICLES",payload:r}),t({type:"HIDE_LOADER"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:"HIDE_LOADER"}),D(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(ee),ae=function(e){return{type:"CHANGE_INPUT",payload:e}},ne=function(e){var t=function(t){var a=e.onChangeInput,n=t.target,r=n.value,c=n.name;a(Object(h.a)({},c,r))};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4 offset-s4"},r.a.createElement("h3",{className:"center-align"},"RealWorld"),r.a.createElement("div",{className:"card light-blue darken-4"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"card-title"},"\u0412\u0445\u043e\u0434"),r.a.createElement("div",null,r.a.createElement("div",{className:"input-field login__input"},r.a.createElement("input",{name:"email",id:"user_email",type:"email",className:"validate",onChange:t}),r.a.createElement("label",{htmlFor:"user_email"},"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b")),r.a.createElement("div",{className:"input-field  login__input"},r.a.createElement("input",{name:"password",id:"user_password",type:"password",className:"validate",onChange:t}),r.a.createElement("label",{htmlFor:"user_password"},"\u041f\u0430\u0440\u043e\u043b\u044c")))),r.a.createElement("div",{className:"card-action"},r.a.createElement("button",{type:"button",className:"btn waves-effect waves-light orange darken-2 button__margin--right",onClick:function(){(0,e.onSignUpUser)({email:e.state.email,password:e.state.password})}},r.a.createElement("b",null,"\u0412\u043e\u0439\u0442\u0438"))))))};ne.defaultProps={state:{email:"",password:""}};var re=Object(s.b)((function(e){return{state:e.form}}),(function(e){return{onChangeInput:function(t){return e(ae(t))},onSignUpUser:function(t){return e(U(t))}}}))(ne),ce=function(e){var t=function(t){var a=e.onChangeInput,n=t.target,r=n.value,c=n.name;a(Object(h.a)({},c,r))};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4 offset-s4"},r.a.createElement("h3",{className:"center-align"},"RealWorld"),r.a.createElement("div",{className:"card light-blue darken-4"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"card-title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",null,r.a.createElement("div",{className:"input-field  login__input"},r.a.createElement("input",{name:"name",id:"user_name",type:"text",className:"validate",onChange:t}),r.a.createElement("label",{htmlFor:"user_name"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),r.a.createElement("div",{className:"input-field  login__input"},r.a.createElement("input",{name:"email",id:"user_email",type:"email",className:"validate",onChange:t}),r.a.createElement("label",{htmlFor:"user_email"},"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b")),r.a.createElement("div",{className:"input-field  login__input"},r.a.createElement("input",{name:"password",id:"user_password",type:"password",className:"validate",onChange:t}),r.a.createElement("label",{htmlFor:"user_password"},"\u041f\u0430\u0440\u043e\u043b\u044c")))),r.a.createElement("div",{className:"card-action"},r.a.createElement("button",{type:"button",className:"btn waves-effect waves-light green lighten-1 black-text button__margin--right",onClick:function(){(0,e.onRegisterUser)({username:e.state.name,email:e.state.email,password:e.state.password})}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))};ce.defaultProps={state:{name:"",password:"",email:""}};var le=Object(s.b)((function(e){return{state:e.form}}),(function(e){return{onChangeInput:function(t){return e(ae(t))},onRegisterUser:function(t){return e((a=t,function(){var e=Object(S.a)(P.a.mark((function e(t){var n,r,c,l,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a,e.next=4,fetch(H.reg,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({user:n})});case 4:return r=e.sent,e.next=7,r.status;case 7:if(200!==(c=e.sent)){e.next=17;break}return e.next=11,r.json();case 11:l=e.sent,i=l.user.token,t(G(i)),n.token=i,D("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"),M(n);case 17:422===c&&D("\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),D(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(ce),ie=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),(function(e){return{logOut:function(){return e({type:"LOG_OUT"})}}}))((function(e){var t=e.isAuthenticated,a=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")));return t&&(a=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/add"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e")),r.a.createElement("li",null,r.a.createElement(i.c,{onClick:function(){(0,e.logOut)(),localStorage.clear()},to:"/"},"\u0412\u044b\u0445\u043e\u0434")))),r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper deep-orange darken-3"},r.a.createElement("ul",{className:"left hide-on-med-and-down"},a)))})),se=a(38),oe=a(59),ue=function(e){var t=e.modifyFavorite,a=e.location,n=e.articles,c=e.deleteCuttentArticle,l=e.history,i=e.enableEditing,s=e.stateForEdit,o=a.state,u=o.slug,m=o.title,d=o.description,p=o.body,f=o.tagList,E=o.createdAt,g=o.updatedAt,h=o.favorited,v=o.author,b=v.username,N=v.bio,y=v.image,O=v.following,_=n.filter((function(e){return e.slug===u})),A=Object(se.a)(_,1)[0],w=function(e){return function(a){a.preventDefault(),t(u,e)}};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2 orange lighten-5 pad2"},r.a.createElement("div",{className:"center-align"},r.a.createElement("h3",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438: ".concat(m)),r.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438: ".concat(d)),r.a.createElement("p",null,"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: ".concat(p)),r.a.createElement("p",null,"\u0422\u044d\u0433\u0438: ".concat(f)),r.a.createElement("p",null,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ".concat(Object(Q.a)(new Date(E),"dd MMMM yyyy",{locale:oe.a}))),r.a.createElement("p",null,"\u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f: ".concat(Object(Q.a)(new Date(g),"HH:mm dd MMMM yyyy",{locale:oe.a}))),r.a.createElement("p",null,"\u041b\u044e\u0431\u0438\u043c\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f? ".concat(h)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4 offset-s4 margin--top"},r.a.createElement("div",{className:"center-align"},r.a.createElement("a",{href:"#!",className:"article__icons",onClick:w("add")},r.a.createElement("i",{className:"material-icons left"},"plus_one")),r.a.createElement("span",{className:"new badge orange left","data-badge-caption":""},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0430\u0439\u043a\u043e\u0432: ".concat(A.favoritesCount)),r.a.createElement("a",{href:"#!",className:"article__icons",onClick:w("delete")},r.a.createElement("i",{className:"material-icons left ml4"},"delete"))))),r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("img",{src:y,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",className:"article__image"}),r.a.createElement("span",{className:"card-title"},"\u0410\u0432\u0442\u043e\u0440: ".concat(b)),r.a.createElement("p",null,"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f: ".concat(N)),r.a.createElement("p",null,"\u041d\u0435 \u0437\u043d\u0430\u044e \u0447\u0442\u043e \u0437\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e: ".concat(O)))),r.a.createElement("div",null,r.a.createElement("button",{className:"btn waves-effect waves-light light-blue darken-3 button__margin--right",type:"button",name:"action",onClick:function(){i(),s(A),l.push("/articles/".concat(u,"/edit"))}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",r.a.createElement("i",{className:"material-icons right"},"edit")),r.a.createElement("button",{className:"btn waves-effect waves-light deep-orange darken-3",type:"button",name:"action",onClick:function(){c(u),l.push("/")}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",r.a.createElement("i",{className:"material-icons right"},"delete_forever"))))))};ue.defaultProps={location:{},history:{}};var me=Object(k.g)(Object(s.b)((function(e){return{articles:e.articles.articles}}),(function(e){return{modifyFavorite:function(t,a){return e(function(e,t){return function(){var a=Object(S.a)(P.a.mark((function a(n,r){var c,l,i,s,o,u,m,d;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,c=r(),l=c.articles,i=z(e),s=W(),"add"!==t){a.next=10;break}return a.next=7,fetch(i,{method:"POST",headers:{Authorization:"Token ".concat(s)}});case 7:o=a.sent,a.next=13;break;case 10:return a.next=12,fetch(i,{method:"DELETE",headers:{Authorization:"Token ".concat(s)}});case 12:o=a.sent;case 13:return a.next=15,o.status;case 15:if(200!==a.sent){a.next=23;break}return a.next=19,o.json();case 19:u=a.sent,m=u.article,d=Object(L.unionBy)([m],l.articles,"slug"),n({type:"CHANGE_FAVORITE",payload:d});case 23:a.next=28;break;case 25:a.prev=25,a.t0=a.catch(0),D(a.t0.message);case 28:case"end":return a.stop()}}),a,null,[[0,25]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,a))},deleteCuttentArticle:function(t){return e((a=t,function(){var e=Object(S.a)(P.a.mark((function e(t,n){var r,c,l,i,s,o,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),c=r.articles,l=W(),i="".concat(R,"/articles/").concat(a),e.next=6,fetch(i,{method:"DELETE",headers:{Authorization:"Token ".concat(l)}});case 6:return s=e.sent,e.next=9,s.status;case 9:200===(o=e.sent)&&(u=c.articles.filter((function(e){return e.slug!==a})),t({type:"DELETE_ARTICLE",payload:u}),D("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0430")),403===o&&D("\u041d\u0435 \u0442\u0432\u043e\u044f \u0441\u0442\u0430\u0442\u044c\u044f, \u043d\u0435 \u043b\u0435\u0437\u044c \u043a\u0443\u0434\u0430 \u043d\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),D(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}()));var a},enableEditing:function(){return e({type:"ON_EDITING_ARTICLE"})},stateForEdit:function(t){return e(function(e){return{type:"SET_ARTICLE_TO_STATE",payload:e}}(t))}}}))(ue)),de=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).changeFieldHandler=function(t){var a=t.target,n=a.value,r=a.name,c=e.props.changeField;if("tagList"===r){/^[\d a-z\u0430-\u044f\u0451]+$/gi.test(n)||0===n.length||D("\u0416\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0431\u0435\u043b\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0442\u044d\u0433\u043e\u0432"),c(r,n.split(" "))}else c(r,n)},e.submitHandler=function(t){t.preventDefault();var a=e.props,n=a.editArticle,r=a.submitHandler,c=a.article,l=a.history,i=a.disableEditing,s=a.uploadUpdatedArticle;n?(s(c),i(),l.push("/")):(r(c),l.push("/"))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){window.M&&window.M.updateTextFields()}},{key:"render",value:function(){var e=this.props,t=e.editArticle,a=e.article,n=a.title,c=a.description,l=a.body,i=a.tagList;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2 orange lighten-5 pad2"},r.a.createElement("div",{className:"center-align"},r.a.createElement("h3",null,t?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"title"),r.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",id:"article_title",type:"text",className:"validate",name:"title",onChange:this.changeFieldHandler,defaultValue:t?n:""}),r.a.createElement("label",{htmlFor:"article_title"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"description"),r.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",id:"article_description",type:"text",className:"validate",name:"description",onChange:this.changeFieldHandler,defaultValue:t?c:""}),r.a.createElement("label",{htmlFor:"article_description"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"mode_edit"),r.a.createElement("textarea",{id:"article_body",className:"materialize-textarea",name:"body",onChange:this.changeFieldHandler,defaultValue:t?l:""}),r.a.createElement("label",{htmlFor:"article_body"},"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438")),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"tag_faces"),r.a.createElement("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u044d\u0433\u0438 \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u044c\u0438",id:"article_tagList",type:"text",className:"validate",name:"tagList",onChange:this.changeFieldHandler,defaultValue:t?i.join(" "):""}),r.a.createElement("label",{htmlFor:"article_tagList"},"\u0422\u044d\u0433\u0438 \u0441\u0442\u0430\u0442\u044c\u0438")),r.a.createElement("button",{className:"btn waves-effect waves-light btn-large deep-orange darken-3 margin--bottom",type:"submit"},r.a.createElement("i",{className:"material-icons left"},"cloud_upload"),r.a.createElement("b",null,t?"\u0418\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c":"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))))))}}]),a}(n.Component);de.defaultProps={history:{}};var pe=Object(k.g)(Object(s.b)((function(e){return{article:e.articles.editingArticle,editArticle:e.articles.editing}}),(function(e){return{changeField:function(t,a){return e(function(e,t){return{type:"CHANGE_ARTICLE_FIELD",payload:{field:e,value:t}}}(t,a))},submitHandler:function(t){return e(function(e){return function(){var t=Object(S.a)(P.a.mark((function t(a,n){var r,c,l,i,s,o,u;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.articles,l=W(),t.next=5,fetch("".concat(R,"/articles"),{method:"POST",headers:{Authorization:"Token ".concat(l),"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({article:e})});case 5:return i=t.sent,t.next=8,i.status;case 8:if(200!==t.sent){t.next=17;break}return t.next=12,i.json();case 12:s=t.sent,o=s.article,u=[o].concat(c.articles),a({type:"PUBLISH_ARTICLE",payload:u}),D("\u0421\u0442\u0430\u0442\u044c\u044f \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430");case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),D(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},disableEditing:function(){return e({type:"OFF_EDITING_ARTICLE"})},uploadUpdatedArticle:function(t){return e(function(e){return function(){var t=Object(S.a)(P.a.mark((function t(a,n){var r,c,l,i,s,o,u,m,d,p,f;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.articles,l=e.slug,i="".concat(R,"/articles/").concat(l),s=W(),t.next=7,fetch(i,{method:"PUT",headers:{Authorization:"Token ".concat(s),"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({article:e})});case 7:return o=t.sent,t.next=10,o.status;case 10:if(403===(u=t.sent)&&(D("\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0443\u0436\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"),a({type:"CLEAR_EDITING_ARTICLE"})),200!==u){t.next=20;break}return t.next=15,o.json();case 15:m=t.sent,d=m.article,p=c.articles.filter((function(e){return e.slug!==l})),f=[d].concat(p),a({type:"UPDATE_ARTICLE",payload:f});case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),a({type:"OFF_EDITING_ARTICLE"}),D(t.t0.message);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))(de)),fe=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.autoSignIn)()}},{key:"render",value:function(){var e=this.props.isAuthenticated,t=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.b,{path:"/login",component:re}),r.a.createElement(k.b,{path:"/signup",component:le}),r.a.createElement(k.b,{exact:!0,path:"/",component:te}),r.a.createElement(k.a,{to:"/signup"}));return e&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.b,{exact:!0,path:"/",component:te}),r.a.createElement(k.b,{path:"/add",component:pe}),r.a.createElement(k.b,{path:"/articles/:slug/edit",component:pe}),r.a.createElement(k.b,{exact:!0,path:"/articles/:slug",component:me}),r.a.createElement(k.a,{to:"/"}))),r.a.createElement("div",{className:"container app__container"},r.a.createElement(ie,null),r.a.createElement(k.d,null,t))}}]),a}(n.Component),Ee=Object(k.g)(Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),(function(e){return{autoSignIn:function(){return e((function(e){try{var t=localStorage.getItem("user");if(t){var a=JSON.parse(t);e(U(a))}}catch(n){D(n.message)}}))}}}))(fe)),ge=(a(53),Object(m.createStore)(A,Object(u.composeWithDevTools)(Object(m.applyMiddleware)(o.a))));l.a.render(r.a.createElement(s.a,{store:ge},r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(Ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.4b7c2f7b.chunk.js.map